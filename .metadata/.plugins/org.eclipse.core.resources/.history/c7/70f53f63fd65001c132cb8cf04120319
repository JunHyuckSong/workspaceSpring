package com.test.app.member;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.test.app.controller.Controller;
import com.test.app.member.impl.MemberDAO;

public class LoginController implements Controller{

	@Override
	public String handleRequest(HttpServletRequest request, HttpServletResponse response) {
		MemberVO vo = new MemberVO();
		vo.setMid(request.getParameter("mid"));
		vo.setPassword(request.getParameter("password"));
		
		MemberDAO dao = new MemberDAO();
		MemberVO data = dao.selectOne(vo);
		if(data!=null) {
			//세션에 저장한 후
			//main.jsp
			//response.sendRedirect("main.jsp");
			return "main.do"; // main페이지에서 정보를 출력해야하므로 
		}
		else {
			//login.jsp
			//response.sendRedirect("login.jsp");
			return "login.jsp"; // login페이지에는 별다른 내용을 출력할 필요 없으므로
		}
		return null;
	}

}
